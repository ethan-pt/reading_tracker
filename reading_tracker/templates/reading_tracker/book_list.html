{% extends 'reading_tracker/main.html' %}
{% block content %}
{% load static %}

<div class="header-bar">
    <div>
        <h1>Hi, <a href="{% url 'reader' %}">{{request.user|title}}</a></h1>
    </div>

    {% if request.user.is_authenticated %}
    <a href="{% url 'logout' %}">Logout</a>

    {% else %}
    <a href="{% url 'login' %}">Login</a>

    {% endif %}
</div>


<div id="search-add-wrapper">
    <form method="GET", style="display: flex;">
        <input type="text" name="search-add-area" value="{{ search_input }}">
        <input class="button" type="submit" value="Search">
    </form>

    <a id="add-link" href="{% url 'book-search' %}" title="Add a new book">&#x2b</a>
</div>

<div class="book-items-wrapper">
    {% if books %}
        {% for book in books %}
            <div class="book-item">
                <div class="cover-div">
                    <img class="cover-img" src="{{ book.cover_url }}" alt="{% static 'img/icon-image-not-found.jpg' %}">
                </div>

                <div class="info-div">
                    <h4>{{ book.title }}</h4>

                    <p>By {{ book.author }}</p>

                    <p>Status: {{ book.status }}</p>
                </div>
            </div>
        {% endfor %}
    {% else %}
        <div class="transaction-wrapper">
            <h3 class="not-found-msg">Looks like you don't have any books yet. Add some with the plus button above!</h3>
        </div>
    
    {% endif %}
    
</div>

{% endblock content %}